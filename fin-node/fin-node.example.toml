[l1]
base_url = "http://127.0.0.1:8080"
api_key = ""
timeout_ms = 10000

[l1.endpoints]
chain_status = ""
submit_batch = ""
get_inclusion = ""
get_finality = ""

[storage]
receipts_dir = "receipts"
fin_db_dir = "fin_db"
data_db_dir = "data_db"
policy_db_dir = "policy_db"
recon_db_dir = "recon_db"

[recon]
# Enable the persistent reconciliation loop (recommended).
enabled = true
# Base tick interval; per-item scheduling is controlled via `next_check_at` in the recon DB.
interval_secs = 30
batch_limit = 50
max_scan = 5000
max_attempts = 50
base_delay_secs = 2
max_delay_secs = 300

[linkage]
# "optimistic" (MVP): grant entitlement immediately after payment submit.
# "finality_required": do not grant entitlement until payment is finalized on L1.
entitlement_policy = "optimistic"

[policy]
mode = "permissive"
admins = []

[policy.compliance]
enabled = false
strategy = "none"

[snapshots]
# Enable snapshot create/restore and (optionally) scheduled snapshots.
enabled = false
output_dir = "snapshots"
max_snapshots = 10

# Optional hook executed after snapshot creation (the snapshot path is passed as last arg).
# post_snapshot_hook = "/usr/local/bin/upload_snapshot.sh"

# Optional hook executed before restore begins (the snapshot path is passed as last arg).
# pre_restore_hook = "/usr/local/bin/prepare_restore.sh"

[snapshots.schedule]
enabled = false
# Daily schedule (UTC), simplified cron: "M H * * *"
cron = "0 2 * * *"
